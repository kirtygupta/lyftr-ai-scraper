<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Universal Website Scraper — Lyftr AI</title>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
      @keyframes gradient-flow {
        0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
      }
      
      @keyframes float-gentle {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        50% { transform: translateY(-15px) rotate(2deg); }
      }
      
      @keyframes glow-pulse {
        0%, 100% { box-shadow: 0 0 20px rgba(99, 102, 241, 0.4), 0 0 40px rgba(168, 85, 247, 0.2); }
        50% { box-shadow: 0 0 30px rgba(99, 102, 241, 0.6), 0 0 60px rgba(168, 85, 247, 0.4); }
      }

      body {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #667eea 100%);
        background-size: 400% 400%;
        animation: gradient-flow 20s ease infinite;
        min-height: 100vh;
      }

      .glass-card {
        background: rgba(0, 0, 0, 0.35);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .glass-card:hover {
        transform: translateY(-4px);
        background: rgba(0, 0, 0, 0.4);
        box-shadow: 0 16px 48px rgba(0, 0, 0, 0.4);
        border-color: rgba(255, 255, 255, 0.3);
      }

      .neumorphic-btn {
        background: linear-gradient(145deg, rgba(255,255,255,0.15), rgba(255,255,255,0.08));
        box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.3), 
                    -5px -5px 15px rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .neumorphic-btn:hover:not(:disabled) {
        background: linear-gradient(145deg, rgba(255,255,255,0.2), rgba(255,255,255,0.12));
        box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.25), 
                    -3px -3px 10px rgba(255, 255, 255, 0.08);
        transform: translateY(-3px);
      }

      .neumorphic-btn:active:not(:disabled) {
        transform: translateY(0px);
        box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.2);
      }

      .rainbow-gradient {
        background: linear-gradient(90deg, 
          #667eea, #764ba2, #f093fb, #4facfe, #667eea);
        background-size: 300% 300%;
        animation: gradient-flow 8s ease infinite, glow-pulse 3s ease-in-out infinite;
      }

      .hero-icon {
        animation: float-gentle 4s ease-in-out infinite;
      }

      .section-card {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.5s ease forwards;
      }

      @keyframes fadeInUp {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .section-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.25);
      }

      .badge {
        font-size: 0.7rem;
        padding: 0.35rem 0.85rem;
        border-radius: 9999px;
        font-weight: 600;
        letter-spacing: 0.5px;
      }

      .badge-hero { background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%); color: #000; }
      .badge-nav { background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%); color: #000; }
      .badge-footer { background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%); color: #000; }
      .badge-list { background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%); color: #000; }
      .badge-section { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
      .badge-unknown { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; }

      .input-glow:focus {
        box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.15), 0 0 20px rgba(99, 102, 241, 0.3);
      }

      .stat-card {
        background: linear-gradient(135deg, rgba(0,0,0,0.3), rgba(0,0,0,0.2));
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.15);
        transition: all 0.3s ease;
      }

      .stat-card:hover {
        background: linear-gradient(135deg, rgba(0,0,0,0.4), rgba(0,0,0,0.3));
        transform: scale(1.05);
      }

      code {
        background: rgba(255, 255, 255, 0.15);
        padding: 0.15rem 0.4rem;
        border-radius: 0.25rem;
        font-size: 0.85em;
        font-family: 'Courier New', monospace;
      }
    </style>
  </head>

  <body class="text-gray-100">
    <div class="max-w-7xl mx-auto px-4 py-8">
      <!-- HEADER -->
      <header class="flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10">
        <div class="flex items-center gap-5">
          <div class="w-20 h-20 flex items-center justify-center rainbow-gradient rounded-3xl shadow-2xl hero-icon">
            <i class="fas fa-spider text-3xl text-white"></i>
          </div>
          <div>
            <h1 class="text-4xl font-bold tracking-tight">Universal Scraper</h1>
            <p class="text-blue-100 mt-1.5 text-base">Extract structured data from any webpage</p>
          </div>
        </div>
        
        <div class="flex items-center gap-3">
          <div class="flex items-center gap-2.5 px-5 py-2.5 glass-card rounded-full">
            <div class="w-2.5 h-2.5 bg-emerald-400 rounded-full animate-pulse shadow-lg shadow-emerald-500/50"></div>
            <span class="text-sm font-semibold tracking-wide">ONLINE</span>
          </div>
        </div>
      </header>

      <!-- MAIN CONTROL CARD -->
      <main class="glass-card rounded-3xl p-8 mb-8">
        <div class="flex items-center justify-between mb-6">
          <h2 class="text-2xl font-bold flex items-center gap-3">
            <i class="fas fa-globe-americas text-blue-300"></i>
            Target Website
          </h2>
          <div class="flex items-center gap-2 text-xs font-semibold">
            <span class="px-3 py-1.5 bg-blue-500/25 rounded-full backdrop-blur-sm border border-blue-400/30">STATIC FIRST</span>
            <span class="px-3 py-1.5 bg-purple-500/25 rounded-full backdrop-blur-sm border border-purple-400/30">JS READY</span>
          </div>
        </div>

        <div class="flex flex-col lg:flex-row gap-4 mb-7">
          <div class="flex-1 relative">
            <div class="flex items-center">
              <i class="fas fa-link absolute left-5 text-gray-300 text-lg"></i>
              <input 
                id="url" 
                type="url" 
                placeholder="https://example.com" 
                class="w-full pl-14 pr-5 py-5 rounded-2xl bg-black/30 border-2 border-white/30 focus:outline-none focus:border-white/50 input-glow transition-all text-base text-white placeholder-gray-300"
                value="https://en.wikipedia.org/wiki/Artificial_intelligence"
              />
            </div>
          </div>
          
          <div class="flex gap-3">
            <button 
              id="scrape" 
              class="rainbow-gradient text-white font-bold px-10 py-5 rounded-2xl flex items-center gap-3 text-base shadow-2xl"
            >
              <i class="fas fa-rocket"></i>
              Scrape Now
            </button>
          </div>
        </div>

        <!-- Stats Bar -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-7">
          <div class="stat-card p-5 rounded-2xl">
            <div class="text-3xl font-extrabold text-blue-300" id="stat-sections">0</div>
            <div class="text-xs text-gray-300 mt-1 font-medium uppercase tracking-wider">Sections</div>
          </div>
          <div class="stat-card p-5 rounded-2xl">
            <div class="text-3xl font-extrabold text-purple-300" id="stat-links">0</div>
            <div class="text-xs text-gray-300 mt-1 font-medium uppercase tracking-wider">Links</div>
          </div>
          <div class="stat-card p-5 rounded-2xl">
            <div class="text-3xl font-extrabold text-pink-300" id="stat-images">0</div>
            <div class="text-xs text-gray-300 mt-1 font-medium uppercase tracking-wider">Images</div>
          </div>
          <div class="stat-card p-5 rounded-2xl">
            <div class="text-3xl font-extrabold text-green-300" id="stat-time">0s</div>
            <div class="text-xs text-gray-300 mt-1 font-medium uppercase tracking-wider">Load Time</div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex flex-wrap gap-3 mb-6">
          <button id="download" class="neumorphic-btn px-6 py-3.5 rounded-xl flex items-center gap-3 font-semibold">
            <i class="fas fa-download"></i>
            Download JSON
          </button>
          <button id="copy-json" class="neumorphic-btn px-6 py-3.5 rounded-xl flex items-center gap-3 font-semibold">
            <i class="fas fa-copy"></i>
            Copy to Clipboard
          </button>
        </div>

        <!-- Status Display -->
        <div>
          <div id="spinner" class="hidden items-center gap-4 p-5 bg-blue-500/15 border border-blue-400/30 rounded-2xl backdrop-blur-sm">
            <div class="w-10 h-10 border-4 border-blue-400 border-t-transparent rounded-full animate-spin"></div>
            <div>
              <div id="status" class="font-bold text-lg">Scraping...</div>
              <div class="text-sm text-blue-200" id="status-detail">Initializing scraper</div>
            </div>
          </div>
          <div id="errors" class="mt-4 p-5 bg-red-500/15 border border-red-400/40 rounded-2xl hidden backdrop-blur-sm"></div>
        </div>
      </main>

      <!-- MAIN CONTENT AREA -->
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- LEFT COLUMN: Results -->
        <section class="lg:col-span-2 space-y-6">
          <!-- Meta Card -->
          <div id="meta-card" class="glass-card p-8 rounded-3xl hidden">
            <div class="flex items-start justify-between mb-5">
              <div class="flex-1">
                <div class="flex items-center gap-3 mb-4">
                  <h3 class="text-2xl font-bold" id="meta-title">Page Title</h3>
                  <span id="meta-lang-badge" class="badge bg-blue-500/30 text-blue-200 border border-blue-400/40"></span>
                </div>
                <p class="text-gray-200 mb-5 leading-relaxed" id="meta-desc"></p>
                <div class="flex flex-wrap gap-5 text-sm">
                  <div class="flex items-center gap-2.5">
                    <i class="fas fa-clock text-blue-300"></i>
                    <span id="scraped-time" class="font-medium">—</span>
                  </div>
                  <div class="flex items-center gap-2.5">
                    <i class="fas fa-external-link-alt text-purple-300"></i>
                    <span id="meta-canonical" class="font-medium">No canonical URL</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Sections -->
          <div id="sections" class="space-y-6"></div>

          <!-- Empty State -->
          <div id="empty-state" class="glass-card p-16 text-center rounded-3xl">
            <div class="w-32 h-32 mx-auto mb-8 flex items-center justify-center bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-3xl border border-white/10">
              <i class="fas fa-search-plus text-6xl text-gray-300"></i>
            </div>
            <h3 class="text-2xl font-bold mb-4">Ready to Extract Data</h3>
            <p class="text-gray-300 mb-8 max-w-md mx-auto leading-relaxed">Enter any website URL above and click "Scrape Now" to extract structured content including sections, links, and metadata.</p>
            <div class="inline-block px-5 py-2.5 bg-white/10 rounded-xl text-sm text-gray-400 border border-white/10">
              <i class="fas fa-lightbulb text-yellow-300 mr-2"></i>
              Try: <code class="ml-1">https://en.wikipedia.org/wiki/Artificial_intelligence</code>
            </div>
          </div>
        </section>

        <!-- RIGHT SIDEBAR -->
        <aside class="space-y-6">
          <!-- Interactions Card -->
          <div class="glass-card p-6 rounded-3xl">
            <h4 class="text-lg font-bold mb-5 flex items-center gap-3">
              <i class="fas fa-chart-line text-blue-300"></i>
              Extraction Metrics
            </h4>
            <div class="space-y-4">
              <div class="stat-card p-5 rounded-2xl">
                <div class="flex items-center justify-between mb-1">
                  <span class="text-sm text-gray-200 font-medium">Pages Visited</span>
                  <span class="font-bold text-blue-300 text-2xl" id="pages-count">0</span>
                </div>
              </div>

              <div class="stat-card p-5 rounded-2xl">
                <div class="text-sm text-gray-200 font-medium mb-3">Scraping Timeline</div>
                <div class="space-y-3" id="timeline">
                  <div class="flex items-center justify-between text-sm bg-white/5 px-3 py-2 rounded-lg">
                    <span class="text-gray-300">Started</span>
                    <span id="scraped-at" class="font-semibold text-blue-200">—</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Quick Actions -->
          <div class="glass-card p-6 rounded-3xl">
            <h4 class="text-lg font-bold mb-5 flex items-center gap-3">
              <i class="fas fa-bolt text-yellow-300"></i>
              Quick Actions
            </h4>
            <div class="grid grid-cols-2 gap-3">
              <button onclick="toggleAllSections()" class="neumorphic-btn p-4 rounded-xl flex flex-col items-center justify-center gap-2 hover:scale-105">
                <i class="fas fa-expand-alt text-xl"></i>
                <span class="text-xs font-semibold">Expand All</span>
              </button>
              <button onclick="collapseAllSections()" class="neumorphic-btn p-4 rounded-xl flex flex-col items-center justify-center gap-2 hover:scale-105">
                <i class="fas fa-compress-alt text-xl"></i>
                <span class="text-xs font-semibold">Collapse All</span>
              </button>
              <button onclick="scrollToTop()" class="neumorphic-btn p-4 rounded-xl flex flex-col items-center justify-center gap-2 hover:scale-105 col-span-2">
                <i class="fas fa-arrow-circle-up text-xl"></i>
                <span class="text-xs font-semibold">Back to Top</span>
              </button>
            </div>
          </div>

          <!-- Tips Card -->
          <div class="glass-card p-6 rounded-3xl">
            <h4 class="text-lg font-bold mb-5 flex items-center gap-3">
              <i class="fas fa-info-circle text-cyan-300"></i>
              Usage Guide
            </h4>
            <ul class="space-y-3.5 text-sm">
              <li class="flex items-start gap-3">
                <i class="fas fa-check-circle text-green-400 mt-0.5 text-base"></i>
                <span class="leading-relaxed">Always use complete URLs starting with <code>https://</code></span>
              </li>
              <li class="flex items-start gap-3">
                <i class="fas fa-check-circle text-green-400 mt-0.5 text-base"></i>
                <span class="leading-relaxed">JavaScript-heavy sites may require 10-20 seconds to fully render</span>
              </li>
              <li class="flex items-start gap-3">
                <i class="fas fa-check-circle text-green-400 mt-0.5 text-base"></i>
                <span class="leading-relaxed">Export results as JSON for integration with other tools</span>
              </li>
            </ul>
          </div>
        </aside>
      </div>

      <!-- FOOTER -->
      <footer class="mt-16 pt-8 border-t border-white/15">
        <div class="flex flex-col md:flex-row justify-between items-center gap-4">
          <div class="flex items-center gap-5">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg">
                <i class="fas fa-spider text-white text-lg"></i>
              </div>
              <div>
                <div class="font-bold text-base">Universal Scraper</div>
                <div class="text-xs text-gray-300">by Kirty Gupta</div>
              </div>
            </div>
            <div class="text-sm">
              <span class="px-3 py-1.5 bg-white/10 rounded-lg font-semibold border border-white/15">v1.0</span>
            </div>
          </div>
          <div class="text-sm text-gray-300 font-medium">
            Built for Lyftr AI Full-stack Assignment
          </div>
        </div>
      </footer>
    </div>

    <script src="/static/client.js"></script>
  </body>
</html>